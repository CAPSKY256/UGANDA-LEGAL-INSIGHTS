<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Uganda Legal Insights</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; background: linear-gradient(to bottom, #f4f6f9, #e0e7ff); }
        .navbar { background: #1e3a8a; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .navbar a { color: white !important; }
        .section { padding: 40px 20px; background: white; margin: 20px 0; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        footer { background: #1e3a8a; color: white; padding: 20px; }
        .btn-primary { background: #2563eb; border: none; }
        .btn-primary:hover { background: #1e40af; }
        .form-label { font-weight: 500; }
        .preview-box { background: #f8f9fa; padding: 15px; border-radius: 5px; }
        .invalid-feedback { display: none; }
        .is-invalid ~ .invalid-feedback { display: block; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">Uganda Legal Insights</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="topicsDropdown" role="button" data-bs-toggle="dropdown">Topics</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="property.html">Property Law</a></li>
                            <li><a class="dropdown-item" href="banking.html">Banking Law</a></li>
                            <li><a class="dropdown-item" href="constitutional.html">Constitutional Law</a></li>
                            <li><a class="dropdown-item" href="contract.html">Contract Law</a></li>
                            <li><a class="dropdown-item" href="criminal.html">Criminal Law</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="settings.html">Settings</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <section class="section container">
        <h1>Settings</h1>
        <div class="mb-4">
            <label for="settingsSearch" class="form-label">Search Settings</label>
            <input type="text" class="form-control" id="settingsSearch" placeholder="e.g., theme, font, notifications">
            <small class="form-text text-muted">Search for settings or cases.</small>
        </div>
        <h3>Appearance</h3>
        <div class="mb-3">
            <label for="themeToggle" class="form-label">Theme</label>
            <button id="themeToggle" class="btn btn-primary mb-2">Switch to Dark Mode</button>
        </div>
        <div class="mb-3">
            <label for="fontSize" class="form-label">Font Size</label>
            <select class="form-select" id="fontSize">
                <option value="small">Small (14px)</option>
                <option value="medium" selected>Medium (16px)</option>
                <option value="large">Large (18px)</option>
            </select>
        </div>
        <h3>Language</h3>
        <div class="mb-3">
            <label for="languageSelect" class="form-label">Language Preference</label>
            <select class="form-select" id="languageSelect">
                <option value="en" selected>English</option>
                <option value="lg">Luganda</option>
                <option value="sw">Swahili</option>
            </select>
            <small class="form-text text-muted">Language support coming soon.</small>
        </div>
        <h3>Notifications</h3>
        <div class="mb-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="emailNotifications">
                <label class="form-check-label" for="emailNotifications">Email Notifications</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="browserNotifications">
                <label class="form-check-label" for="browserNotifications">Browser Notifications</label>
            </div>
            <small class="form-text text-muted">Manage notifications for new cases or updates (simulated).</small>
        </div>
        <h3>Add New Case</h3>
        <div class="mb-3">
            <label for="caseTitle" class="form-label">Case Title</label>
            <input type="text" class="form-control" id="caseTitle" placeholder="e.g., Kato v Kato [2023]">
            <div class="invalid-feedback">Please enter a case title.</div>
        </div>
        <div class="mb-3">
            <label for="caseTopic" class="form-label">Topic</label>
            <select class="form-select" id="caseTopic">
                <option>Property Law</option>
                <option>Banking Law</option>
                <option>Constitutional Law</option>
                <option>Contract Law</option>
                <option>Criminal Law</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="caseDetails" class="form-label">Details</label>
            <textarea class="form-control" id="caseDetails" rows="4" placeholder="Facts, Issue, Holding, Principle"></textarea>
            <div class="invalid-feedback">Please enter case details.</div>
        </div>
        <div class="mb-3 preview-box" id="casePreview" style="display: none;">
            <h4>Case Preview</h4>
            <p><strong id="previewTitle"></strong>: <span id="previewDetails"></span></p>
        </div>
        <button id="previewCase" class="btn btn-primary mb-2">Preview Case</button>
        <button id="submitCase" class="btn btn-primary">Submit Case</button>
    </section>
    <footer class="text-center">
        <p>&copy; 2025 Uganda Legal Insights. Not legal advice.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Theme Toggle
        document.getElementById('themeToggle').addEventListener('click', () => {
            const body = document.body;
            const sections = document.querySelectorAll('.section');
            const button = document.getElementById('themeToggle');
            if (body.style.background.includes('f4f6f9')) {
                body.style.background = 'linear-gradient(to bottom, #1f2937, #111827)';
                sections.forEach(s => s.style.background = '#374151');
                button.textContent = 'Switch to Light Mode';
            } else {
                body.style.background = 'linear-gradient(to bottom, #f4f6f9, #e0e7ff)';
                sections.forEach(s => s.style.background = 'white');
                button.textContent = 'Switch to Dark Mode';
            }
        });

        // Font Size Adjustment
        document.getElementById('fontSize').addEventListener('change', (e) => {
            const size = e.target.value;
            document.body.style.fontSize = size === 'small' ? '14px' : size === 'medium' ? '16px' : '18px';
        });

        // Settings Search (Basic Filtering)
        document.getElementById('settingsSearch').addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            const sections = document.querySelectorAll('.section h3, .section label');
            sections.forEach(section => {
                const parent = section.closest('.mb-3') || section.nextElementSibling;
                if (section.textContent.toLowerCase().includes(query)) {
                    parent.style.display = 'block';
                } else {
                    parent.style.display = 'none';
                }
            });
        });

        // Case Submission with Validation and Preview
        document.getElementById('previewCase').addEventListener('click', () => {
            const title = document.getElementById('caseTitle');
            const details = document.getElementById('caseDetails');
            const previewBox = document.getElementById('casePreview');
            const previewTitle = document.getElementById('previewTitle');
            const previewDetails = document.getElementById('previewDetails');

            title.classList.remove('is-invalid');
            details.classList.remove('is-invalid');

            if (!title.value.trim()) {
                title.classList.add('is-invalid');
                return;
            }
            if (!details.value.trim()) {
                details.classList.add('is-invalid');
                return;
            }

            previewTitle.textContent = title.value;
            previewDetails.textContent = details.value;
            previewBox.style.display = 'block';
        });

        document.getElementById('submitCase').addEventListener('click', () => {
            const title = document.getElementById('caseTitle');
            const details = document.getElementById('caseDetails');
            if (!title.value.trim() || !details.value.trim()) {
                title.classList.toggle('is-invalid', !title.value.trim());
                details.classList.toggle('is-invalid', !details.value.trim());
                return;
            }
            alert('Case submitted! Edit HTML to add permanently.');
            title.value = '';
            details.value = '';
            document.getElementById('casePreview').style.display = 'none';
        });
    </script>
</body>
</html>
